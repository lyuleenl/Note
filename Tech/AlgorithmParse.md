# A*搜索算法

A* 搜索算法（A* search algorithm）是一种在图形平面上，有多个节点的路径，求出最低通过成本的算法。常用于游戏中的NPC的移动计算，或网络游戏的BOT的移动计算上。

该算法综合了最良优先搜索和Dijkstra算法的优点：在进行启发式搜索提高算法效率的同时，可以保证找到一条最优路径（基于评估函数）。

A*算法通过下面这个函数来计算每个节点的优先级。


其中：

$f(n)=g(n)+h(n)$

f(n)是节点n的综合优先级。当我们选择下一个要遍历的节点时，我们总会选取综合优先级最高（值最小）的节点。

g(n) 是节点n距离起点的代价。

h(n)是节点n距离终点的预计代价，这也就是A*算法的启发函数。关于启发函数我们在下面详细讲解。

A*算法在运算过程中，每次从优先队列中选取f(n)值最小（优先级最高）的节点作为下一个待遍历的节点。

另外，A*算法使用两个集合来表示待遍历的节点，与已经遍历过的节点，这通常称之为open_set和close_set。

完整的A*算法描述如下：

* 初始化open_set和close_set；
* 将起点加入open_set中，并设置优先级为0（优先级最高）；
* 如果open_set不为空，则从open_set中选取优先级最高的节点n：
    * 如果节点n为终点，则：
        * 从终点开始逐步追踪parent节点，一直达到起点；
        * 返回找到的结果路径，算法结束；
    * 如果节点n不是终点，则：
        * 将节点n从open_set中删除，并加入close_set中；
        * 遍历节点n所有的邻近节点：
            * 如果邻近节点m在close_set中，则：
                * 跳过，选取下一个邻近节点
            * 如果邻近节点m也不在open_set中，则：
                * 设置节点m的parent为节点n
                * 计算节点m的优先级
                * 将节点m加入open_set中

这个公式遵循以下特性：

如果$g(n)$为0，即只计算任意顶点$n$到目标的评估函数$h(n)$，而不计算起点到顶点$n$的距离，则算法转化为使用贪心策略的最良优先搜索，速度最快，但可能得不出最优解；

如果$h(n)$不大于顶点$n$到目标顶点的实际距离，则一定可以求出最优解，而且$h(n)$越小，需要计算的节点越多，算法效率越低，常见的评估函数有——欧几里得距离、曼哈顿距离、切比雪夫距离；

如果$h(n)$为0，即只需求出起点到任意顶点$n$的最短路径$g(n)$，而不计算任何评估函数$h(n)$，则转化为单源最短路径问题，即Dijkstra算法，此时需要计算最多的顶点

参考：

https://zhuanlan.zhihu.com/p/54510444

https://zh.wikipedia.org/wiki/A%E6%90%9C%E5%B0%8B%E6%BC%94%E7%AE%97%E6%B3%95

https://www.gamedev.net/reference/articles/article2003.asp


学习图论的感悟 对课的理解 想法 建议 

最初在数据结构这门课中接触到图的概念，脑海中浮现出一个疑问：图能做什么？后来学完了DFS BFS Dijkstra 等算法，大致了解该数据结构是为这些寻路算法服务的。这学期选图论这门课，对图的有了更全面的了解，明白了图不单单是数据结构中的一种，还是一个独立的学科，有悠久的起源并在持续发展状态。现在再来回答这个问题：图能做什么。

我们生活的所有事物，活动，包括我们自己在计算机领域都可以被抽象为数据，但是一个个独立的数据并不能带来多少价值，将所有数据进行关联，串成一个数据网络才能产生巨大的价值，这个网络即为图。广义上来讲，任何数据在赋范空间内都可以建立拓扑关联，也就是可以构成graph，所以图论这门学科在如今巨量数据社会中会发挥极大的作用。

图在目前的计算机领域有很广泛的应用，例如社交网络，人际关系网，城市交通，自动驾驶等等，还有近几年比较火的图神经网络

一般的数据挖掘，也需要对图有所了解，比如社交网络分析，基本都是图论问题。
机器学习模型，如神经网络，整体上来看，就是个图，受限玻尔兹曼机就更具体了，就是一个二分图，之类例子太多了。
图再联系矩阵理论，图的代数表示，那应用就更加广泛了。

卓老师的课非常精彩，受益匪浅。我很赞同卓老师提到的课堂改革，增加平时成绩比重，可以有效避免产生课上不用听，期末冲一冲的情况。